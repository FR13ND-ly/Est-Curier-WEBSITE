<div class="main">
    <h1 class="comments-count">{{comments.length}} {{ comments.length == 1 ? 'comentariu' : 'comentarii'}}</h1>
    <form (submit)="onAddComment(commentForm)" #commentForm="ngForm" *ngIf="info.token">
        <div class="add-comment">
            <img class="add-comment-user-photo" src="{{ info.photoURL }}">
            <mat-form-field appearance="standard" class="add-comment-input">
                <mat-label>Adaugă un comentariu</mat-label>
                <input matInput ngModel name="text">
            </mat-form-field>
        </div>
        <button mat-raised-button type="submit" class="add-comment-button" color="primary">Publică</button>
    </form>
    <h3 *ngIf="!info.token">Pentru a scrie comentarii trebuie să te loghezi</h3>
    <div class="comments">
        <div class="comment" *ngFor="let comment of comments; let i = index" style="animation-delay: {{i * .02}}s;">
            <div class="comment-image-wrapper"><img class="comment-user-photo" [src]="comment.photoURL"></div>
            <div class="comment-details">
                <button mat-mini-fab color="warn" class="comment-delete" (click)="removeComment(comment.id)" *ngIf="info.isStaff"><mat-icon>delete</mat-icon></button>
                <p class="comment-user-name"><span [class.admin]="comment.byStaff">{{comment.username}}</span>  <font class="comment-date">{{comment.date}}</font></p>
                <p>{{comment.text}}</p>
            </div>
        </div>
    </div>
</div>
